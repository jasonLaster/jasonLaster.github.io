<!DOCTYPE html>
<html><head><meta charset="utf-8"/><link rel="stylesheet" href="../../../assets/semantic.min.css"/><link rel="stylesheet" href="../../../assets/codemirror.css"/><link rel="stylesheet" href="../../../assets/flow-highlight-source.css"/><link rel="stylesheet" href="../../../assets/flow-coverage-report.css"/><link rel="stylesheet" href="../../../assets/codemirror-simplescrollbars-addon.css"/><script src="../../../assets/jquery-3.1.0.min.js"></script><script src="../../../assets/semantic.min.js"></script><script src="../../../assets/semantic-tablesort.js"></script><script src="../../../assets/codemirror.js"></script><script src="../../../assets/codemirror-javascript-mode.js"></script><script src="../../../assets/codemirror-annotatescrollbar-addon.js"></script><script src="../../../assets/codemirror-simplescrollbars-addon.js"></script><script src="../../../assets/flow-highlight-source.js"></script><script src="../../../assets/index.js"></script><style>
.ui .CodeMirror {
  border: 1px solid rgba(34,36,38,.15);
  height: auto;
}
</style></head><body><div class="ui grid container"><div class="row"><div class="twelve wide column"><h2 class="ui header"><a href="../../../index.html" id="link-to-summary">Flow Coverage Report</a></h2></div></div><div class="row"><table class="ui small celled unstackable table"><thead><tr><th class="sorted ascending">Filename</th><th>Percent</th><th>Total</th><th>Covered</th><th>Uncovered</th></tr></thead><tbody><tr class="positive"><td class="">src/actions/pause.js</td><td><span>85 %</span></td><td> 240 </td><td> 206 </td><td> 34 </td></tr></tbody></table></div><div class="row ui one column centered grid"><div class="column" style="text-align:left;"><div class="row"><div class="ui form"><div class="fields"><div class="sixteen wide inline field"><select class="ui search dropdown uncovered-locations"><option value="">Uncovered Locations</option><option value="27">Start: 27,23 - End: 27,28</option><option value="45">Start: 45,37 - End: 45,44</option><option value="45">Start: 45,47 - End: 45,52</option><option value="72">Start: 72,23 - End: 72,28</option><option value="77">Start: 77,18 - End: 77,23</option><option value="77">Start: 77,18 - End: 80,7</option><option value="93">Start: 93,23 - End: 93,28</option><option value="95">Start: 95,5 - End: 95,10</option><option value="95">Start: 95,5 - End: 95,18</option><option value="112">Start: 112,9 - End: 112,28</option><option value="112">Start: 112,18 - End: 112,27</option><option value="126">Start: 126,9 - End: 126,28</option><option value="126">Start: 126,18 - End: 126,27</option><option value="140">Start: 140,9 - End: 140,28</option><option value="140">Start: 140,18 - End: 140,27</option><option value="154">Start: 154,9 - End: 154,28</option><option value="154">Start: 154,18 - End: 154,27</option><option value="169">Start: 169,23 - End: 169,28</option><option value="170">Start: 170,5 - End: 170,10</option><option value="170">Start: 170,5 - End: 170,24</option><option value="207">Start: 207,31 - End: 207,41</option><option value="208">Start: 208,23 - End: 208,28</option><option value="209">Start: 209,11 - End: 209,18</option><option value="209">Start: 209,22 - End: 209,27</option><option value="209">Start: 209,22 - End: 209,52</option><option value="209">Start: 209,38 - End: 209,43</option><option value="209">Start: 209,38 - End: 209,52</option><option value="211">Start: 211,9 - End: 211,45</option><option value="211">Start: 211,25 - End: 211,34</option><option value="211">Start: 211,37 - End: 211,44</option><option value="217">Start: 217,7 - End: 217,14</option><option value="218">Start: 218,18 - End: 218,23</option><option value="218">Start: 218,18 - End: 218,45</option><option value="218">Start: 218,39 - End: 218,44</option></select></div><div class="four wide inline field"><select class="ui search dropdown syntax-highlighting"><option value="es">ES6/ES7</option><option value="js">JavaScript</option><option value="no">None</option></select></div></div></div></div><textarea id="file-content" readonly="">// @flow
const constants = require(&quot;../constants&quot;);
const { selectSource } = require(&quot;./sources&quot;);
const { PROMISE } = require(&quot;../utils/redux/middleware/promise&quot;);

const { getPause, getLoadedObject } = require(&quot;../selectors&quot;);
const { updateFrameLocations } = require(&quot;../utils/pause&quot;);
const { evaluateExpressions } = require(&quot;./expressions&quot;);

import type { Pause, Frame } from &quot;../types&quot;;
import type { ThunkArgs } from &quot;./types&quot;;

type CommandType = { type: string };

/**
 * Redux actions for the pause state
 * @module actions/pause
 */

/**
 * Debugger has just resumed
 *
 * @memberof actions/pause
 * @static
 */
function resumed() {
  return ({ dispatch, client }: ThunkArgs) =&gt; {
    // dispatch(evaluateExpressions(null));

    return dispatch({
      type: constants.RESUME,
      value: undefined
    });
  };
}

/**
 * Debugger has just paused
 *
 * @param {object} pauseInfo
 * @memberof actions/pause
 * @static
 */
function paused(pauseInfo: Pause) {
  return async function({ dispatch, getState, client }: ThunkArgs) {
    let { frames, why, loadedObjects } = pauseInfo;
    frames = await updateFrameLocations(frames);
    const frame = frames[0];

    dispatch({
      type: constants.PAUSED,
      pauseInfo: { why, frame },
      frames: frames,
      selectedFrameId: frame.id,
      loadedObjects: loadedObjects || []
    });

    dispatch(evaluateExpressions(frame.id));

    dispatch(selectSource(frame.location.sourceId,
                          { line: frame.location.line }));
  };
}

/**
 *
 * @memberof actions/pause
 * @static
 */
function pauseOnExceptions(
  shouldPauseOnExceptions: boolean, shouldIgnoreCaughtExceptions: boolean) {
  return ({ dispatch, client }: ThunkArgs) =&gt; {
    dispatch({
      type: constants.PAUSE_ON_EXCEPTIONS,
      shouldPauseOnExceptions,
      shouldIgnoreCaughtExceptions,
      [PROMISE]: client.pauseOnExceptions(
        shouldPauseOnExceptions,
        shouldIgnoreCaughtExceptions
      )
    });
  };
}

/**
 * Debugger commands like stepOver, stepIn, stepUp
 *
 * @param string $0.type
 * @memberof actions/pause
 * @static
 */
function command({ type }: CommandType) {
  return ({ dispatch, client }: ThunkArgs) =&gt; {
    // execute debugger thread command e.g. stepIn, stepOver
    client[type]();

    return dispatch({
      type: constants.COMMAND,
      value: undefined
    });
  };
}

/**
 * StepIn
 * @memberof actions/pause
 * @static
 * @returns {Function} {@link command}
 */
function stepIn() {
  return ({ dispatch, getState }: ThunkArgs) =&gt; {
    if (getPause(getState())) {
      return dispatch(command({ type: &quot;stepIn&quot; }));
    }
  };
}

/**
 * stepOver
 * @memberof actions/pause
 * @static
 * @returns {Function} {@link command}
 */
function stepOver() {
  return ({ dispatch, getState }: ThunkArgs) =&gt; {
    if (getPause(getState())) {
      return dispatch(command({ type: &quot;stepOver&quot; }));
    }
  };
}

/**
 * stepOut
 * @memberof actions/pause
 * @static
 * @returns {Function} {@link command}
 */
function stepOut() {
  return ({ dispatch, getState }: ThunkArgs) =&gt; {
    if (getPause(getState())) {
      return dispatch(command({ type: &quot;stepOut&quot; }));
    }
  };
}

/**
 * resume
 * @memberof actions/pause
 * @static
 * @returns {Function} {@link command}
 */
function resume() {
  return ({ dispatch, getState }: ThunkArgs) =&gt; {
    if (getPause(getState())) {
      return dispatch(command({ type: &quot;resume&quot; }));
    }
  };
}

/**
 * Debugger breakOnNext command.
 * It&#x27;s different from the comand action because we also want to
 * highlight the pause icon.
 *
 * @memberof actions/pause
 * @static
 */
function breakOnNext() {
  return ({ dispatch, client }: ThunkArgs) =&gt; {
    client.breakOnNext();

    return dispatch({
      type: constants.BREAK_ON_NEXT,
      value: true
    });
  };
}

/**
 * Select a frame
 *
 * @param frame
 * @memberof actions/pause
 * @static
 */
function selectFrame(frame: Frame) {
  return ({ dispatch }: ThunkArgs) =&gt; {
    dispatch(evaluateExpressions(frame.id));
    dispatch(selectSource(frame.location.sourceId,
                          { line: frame.location.line }));
    dispatch({
      type: constants.SELECT_FRAME,
      frame
    });
  };
}

/**
 * Load an object.
 *
 * @param grip
 * TODO: Right now this if Firefox specific and is not implemented
 * for Chrome, which is why it takes a grip.
 * @memberof actions/pause
 * @static
 */
function loadObjectProperties(object: any) {
  return ({ dispatch, client, getState }: ThunkArgs) =&gt; {
    const objectId = object.actor || object.objectId;

    if (getLoadedObject(getState(), objectId)) {
      return;
    }

    dispatch({
      type: constants.LOAD_OBJECT_PROPERTIES,
      objectId,
      [PROMISE]: client.getProperties(object)
    });
  };
}

module.exports = {
  resumed,
  paused,
  pauseOnExceptions,
  command,
  stepIn,
  stepOut,
  stepOver,
  resume,
  breakOnNext,
  selectFrame,
  loadObjectProperties
};
</textarea></div></div><div class="row centered"><footer>Flow Coverage Report generated by<a href="https://flowtype.org"> flow </a>and<a href="https://github.com/rpl/flow-coverage-report"> flow-coverage-report </a>at Tue Feb 21 2017 17:31:46 GMT-0500 (EST)</footer></div></div><pre id="file-coverage-data" style="display:none;">{&quot;expressions&quot;:{&quot;covered_count&quot;:206,&quot;uncovered_count&quot;:34,&quot;uncovered_locs&quot;:[{&quot;source&quot;:&quot;/Users/jlaster/src/mozilla/debugger.html/src/actions/pause.js&quot;,&quot;type&quot;:&quot;SourceFile&quot;,&quot;start&quot;:{&quot;line&quot;:27,&quot;column&quot;:23,&quot;offset&quot;:667},&quot;end&quot;:{&quot;line&quot;:27,&quot;column&quot;:28,&quot;offset&quot;:673}},{&quot;source&quot;:&quot;/Users/jlaster/src/mozilla/debugger.html/src/actions/pause.js&quot;,&quot;type&quot;:&quot;SourceFile&quot;,&quot;start&quot;:{&quot;line&quot;:45,&quot;column&quot;:37,&quot;offset&quot;:1007},&quot;end&quot;:{&quot;line&quot;:45,&quot;column&quot;:44,&quot;offset&quot;:1015}},{&quot;source&quot;:&quot;/Users/jlaster/src/mozilla/debugger.html/src/actions/pause.js&quot;,&quot;type&quot;:&quot;SourceFile&quot;,&quot;start&quot;:{&quot;line&quot;:45,&quot;column&quot;:47,&quot;offset&quot;:1017},&quot;end&quot;:{&quot;line&quot;:45,&quot;column&quot;:52,&quot;offset&quot;:1023}},{&quot;source&quot;:&quot;/Users/jlaster/src/mozilla/debugger.html/src/actions/pause.js&quot;,&quot;type&quot;:&quot;SourceFile&quot;,&quot;start&quot;:{&quot;line&quot;:72,&quot;column&quot;:23,&quot;offset&quot;:1694},&quot;end&quot;:{&quot;line&quot;:72,&quot;column&quot;:28,&quot;offset&quot;:1700}},{&quot;source&quot;:&quot;/Users/jlaster/src/mozilla/debugger.html/src/actions/pause.js&quot;,&quot;type&quot;:&quot;SourceFile&quot;,&quot;start&quot;:{&quot;line&quot;:77,&quot;column&quot;:18,&quot;offset&quot;:1862},&quot;end&quot;:{&quot;line&quot;:77,&quot;column&quot;:23,&quot;offset&quot;:1868}},{&quot;source&quot;:&quot;/Users/jlaster/src/mozilla/debugger.html/src/actions/pause.js&quot;,&quot;type&quot;:&quot;SourceFile&quot;,&quot;start&quot;:{&quot;line&quot;:77,&quot;column&quot;:18,&quot;offset&quot;:1862},&quot;end&quot;:{&quot;line&quot;:80,&quot;column&quot;:7,&quot;offset&quot;:1965}},{&quot;source&quot;:&quot;/Users/jlaster/src/mozilla/debugger.html/src/actions/pause.js&quot;,&quot;type&quot;:&quot;SourceFile&quot;,&quot;start&quot;:{&quot;line&quot;:93,&quot;column&quot;:23,&quot;offset&quot;:2171},&quot;end&quot;:{&quot;line&quot;:93,&quot;column&quot;:28,&quot;offset&quot;:2177}},{&quot;source&quot;:&quot;/Users/jlaster/src/mozilla/debugger.html/src/actions/pause.js&quot;,&quot;type&quot;:&quot;SourceFile&quot;,&quot;start&quot;:{&quot;line&quot;:95,&quot;column&quot;:5,&quot;offset&quot;:2262},&quot;end&quot;:{&quot;line&quot;:95,&quot;column&quot;:10,&quot;offset&quot;:2268}},{&quot;source&quot;:&quot;/Users/jlaster/src/mozilla/debugger.html/src/actions/pause.js&quot;,&quot;type&quot;:&quot;SourceFile&quot;,&quot;start&quot;:{&quot;line&quot;:95,&quot;column&quot;:5,&quot;offset&quot;:2262},&quot;end&quot;:{&quot;line&quot;:95,&quot;column&quot;:18,&quot;offset&quot;:2276}},{&quot;source&quot;:&quot;/Users/jlaster/src/mozilla/debugger.html/src/actions/pause.js&quot;,&quot;type&quot;:&quot;SourceFile&quot;,&quot;start&quot;:{&quot;line&quot;:112,&quot;column&quot;:9,&quot;offset&quot;:2544},&quot;end&quot;:{&quot;line&quot;:112,&quot;column&quot;:28,&quot;offset&quot;:2564}},{&quot;source&quot;:&quot;/Users/jlaster/src/mozilla/debugger.html/src/actions/pause.js&quot;,&quot;type&quot;:&quot;SourceFile&quot;,&quot;start&quot;:{&quot;line&quot;:112,&quot;column&quot;:18,&quot;offset&quot;:2553},&quot;end&quot;:{&quot;line&quot;:112,&quot;column&quot;:27,&quot;offset&quot;:2563}},{&quot;source&quot;:&quot;/Users/jlaster/src/mozilla/debugger.html/src/actions/pause.js&quot;,&quot;type&quot;:&quot;SourceFile&quot;,&quot;start&quot;:{&quot;line&quot;:126,&quot;column&quot;:9,&quot;offset&quot;:2811},&quot;end&quot;:{&quot;line&quot;:126,&quot;column&quot;:28,&quot;offset&quot;:2831}},{&quot;source&quot;:&quot;/Users/jlaster/src/mozilla/debugger.html/src/actions/pause.js&quot;,&quot;type&quot;:&quot;SourceFile&quot;,&quot;start&quot;:{&quot;line&quot;:126,&quot;column&quot;:18,&quot;offset&quot;:2820},&quot;end&quot;:{&quot;line&quot;:126,&quot;column&quot;:27,&quot;offset&quot;:2830}},{&quot;source&quot;:&quot;/Users/jlaster/src/mozilla/debugger.html/src/actions/pause.js&quot;,&quot;type&quot;:&quot;SourceFile&quot;,&quot;start&quot;:{&quot;line&quot;:140,&quot;column&quot;:9,&quot;offset&quot;:3078},&quot;end&quot;:{&quot;line&quot;:140,&quot;column&quot;:28,&quot;offset&quot;:3098}},{&quot;source&quot;:&quot;/Users/jlaster/src/mozilla/debugger.html/src/actions/pause.js&quot;,&quot;type&quot;:&quot;SourceFile&quot;,&quot;start&quot;:{&quot;line&quot;:140,&quot;column&quot;:18,&quot;offset&quot;:3087},&quot;end&quot;:{&quot;line&quot;:140,&quot;column&quot;:27,&quot;offset&quot;:3097}},{&quot;source&quot;:&quot;/Users/jlaster/src/mozilla/debugger.html/src/actions/pause.js&quot;,&quot;type&quot;:&quot;SourceFile&quot;,&quot;start&quot;:{&quot;line&quot;:154,&quot;column&quot;:9,&quot;offset&quot;:3342},&quot;end&quot;:{&quot;line&quot;:154,&quot;column&quot;:28,&quot;offset&quot;:3362}},{&quot;source&quot;:&quot;/Users/jlaster/src/mozilla/debugger.html/src/actions/pause.js&quot;,&quot;type&quot;:&quot;SourceFile&quot;,&quot;start&quot;:{&quot;line&quot;:154,&quot;column&quot;:18,&quot;offset&quot;:3351},&quot;end&quot;:{&quot;line&quot;:154,&quot;column&quot;:27,&quot;offset&quot;:3361}},{&quot;source&quot;:&quot;/Users/jlaster/src/mozilla/debugger.html/src/actions/pause.js&quot;,&quot;type&quot;:&quot;SourceFile&quot;,&quot;start&quot;:{&quot;line&quot;:169,&quot;column&quot;:23,&quot;offset&quot;:3655},&quot;end&quot;:{&quot;line&quot;:169,&quot;column&quot;:28,&quot;offset&quot;:3661}},{&quot;source&quot;:&quot;/Users/jlaster/src/mozilla/debugger.html/src/actions/pause.js&quot;,&quot;type&quot;:&quot;SourceFile&quot;,&quot;start&quot;:{&quot;line&quot;:170,&quot;column&quot;:5,&quot;offset&quot;:3685},&quot;end&quot;:{&quot;line&quot;:170,&quot;column&quot;:10,&quot;offset&quot;:3691}},{&quot;source&quot;:&quot;/Users/jlaster/src/mozilla/debugger.html/src/actions/pause.js&quot;,&quot;type&quot;:&quot;SourceFile&quot;,&quot;start&quot;:{&quot;line&quot;:170,&quot;column&quot;:5,&quot;offset&quot;:3685},&quot;end&quot;:{&quot;line&quot;:170,&quot;column&quot;:24,&quot;offset&quot;:3705}},{&quot;source&quot;:&quot;/Users/jlaster/src/mozilla/debugger.html/src/actions/pause.js&quot;,&quot;type&quot;:&quot;SourceFile&quot;,&quot;start&quot;:{&quot;line&quot;:207,&quot;column&quot;:31,&quot;offset&quot;:4420},&quot;end&quot;:{&quot;line&quot;:207,&quot;column&quot;:41,&quot;offset&quot;:4431}},{&quot;source&quot;:&quot;/Users/jlaster/src/mozilla/debugger.html/src/actions/pause.js&quot;,&quot;type&quot;:&quot;SourceFile&quot;,&quot;start&quot;:{&quot;line&quot;:208,&quot;column&quot;:23,&quot;offset&quot;:4457},&quot;end&quot;:{&quot;line&quot;:208,&quot;column&quot;:28,&quot;offset&quot;:4463}},{&quot;source&quot;:&quot;/Users/jlaster/src/mozilla/debugger.html/src/actions/pause.js&quot;,&quot;type&quot;:&quot;SourceFile&quot;,&quot;start&quot;:{&quot;line&quot;:209,&quot;column&quot;:11,&quot;offset&quot;:4503},&quot;end&quot;:{&quot;line&quot;:209,&quot;column&quot;:18,&quot;offset&quot;:4511}},{&quot;source&quot;:&quot;/Users/jlaster/src/mozilla/debugger.html/src/actions/pause.js&quot;,&quot;type&quot;:&quot;SourceFile&quot;,&quot;start&quot;:{&quot;line&quot;:209,&quot;column&quot;:22,&quot;offset&quot;:4514},&quot;end&quot;:{&quot;line&quot;:209,&quot;column&quot;:27,&quot;offset&quot;:4520}},{&quot;source&quot;:&quot;/Users/jlaster/src/mozilla/debugger.html/src/actions/pause.js&quot;,&quot;type&quot;:&quot;SourceFile&quot;,&quot;start&quot;:{&quot;line&quot;:209,&quot;column&quot;:22,&quot;offset&quot;:4514},&quot;end&quot;:{&quot;line&quot;:209,&quot;column&quot;:52,&quot;offset&quot;:4545}},{&quot;source&quot;:&quot;/Users/jlaster/src/mozilla/debugger.html/src/actions/pause.js&quot;,&quot;type&quot;:&quot;SourceFile&quot;,&quot;start&quot;:{&quot;line&quot;:209,&quot;column&quot;:38,&quot;offset&quot;:4530},&quot;end&quot;:{&quot;line&quot;:209,&quot;column&quot;:43,&quot;offset&quot;:4536}},{&quot;source&quot;:&quot;/Users/jlaster/src/mozilla/debugger.html/src/actions/pause.js&quot;,&quot;type&quot;:&quot;SourceFile&quot;,&quot;start&quot;:{&quot;line&quot;:209,&quot;column&quot;:38,&quot;offset&quot;:4530},&quot;end&quot;:{&quot;line&quot;:209,&quot;column&quot;:52,&quot;offset&quot;:4545}},{&quot;source&quot;:&quot;/Users/jlaster/src/mozilla/debugger.html/src/actions/pause.js&quot;,&quot;type&quot;:&quot;SourceFile&quot;,&quot;start&quot;:{&quot;line&quot;:211,&quot;column&quot;:9,&quot;offset&quot;:4556},&quot;end&quot;:{&quot;line&quot;:211,&quot;column&quot;:45,&quot;offset&quot;:4593}},{&quot;source&quot;:&quot;/Users/jlaster/src/mozilla/debugger.html/src/actions/pause.js&quot;,&quot;type&quot;:&quot;SourceFile&quot;,&quot;start&quot;:{&quot;line&quot;:211,&quot;column&quot;:25,&quot;offset&quot;:4572},&quot;end&quot;:{&quot;line&quot;:211,&quot;column&quot;:34,&quot;offset&quot;:4582}},{&quot;source&quot;:&quot;/Users/jlaster/src/mozilla/debugger.html/src/actions/pause.js&quot;,&quot;type&quot;:&quot;SourceFile&quot;,&quot;start&quot;:{&quot;line&quot;:211,&quot;column&quot;:37,&quot;offset&quot;:4584},&quot;end&quot;:{&quot;line&quot;:211,&quot;column&quot;:44,&quot;offset&quot;:4592}},{&quot;source&quot;:&quot;/Users/jlaster/src/mozilla/debugger.html/src/actions/pause.js&quot;,&quot;type&quot;:&quot;SourceFile&quot;,&quot;start&quot;:{&quot;line&quot;:217,&quot;column&quot;:7,&quot;offset&quot;:4685},&quot;end&quot;:{&quot;line&quot;:217,&quot;column&quot;:14,&quot;offset&quot;:4693}},{&quot;source&quot;:&quot;/Users/jlaster/src/mozilla/debugger.html/src/actions/pause.js&quot;,&quot;type&quot;:&quot;SourceFile&quot;,&quot;start&quot;:{&quot;line&quot;:218,&quot;column&quot;:18,&quot;offset&quot;:4712},&quot;end&quot;:{&quot;line&quot;:218,&quot;column&quot;:23,&quot;offset&quot;:4718}},{&quot;source&quot;:&quot;/Users/jlaster/src/mozilla/debugger.html/src/actions/pause.js&quot;,&quot;type&quot;:&quot;SourceFile&quot;,&quot;start&quot;:{&quot;line&quot;:218,&quot;column&quot;:18,&quot;offset&quot;:4712},&quot;end&quot;:{&quot;line&quot;:218,&quot;column&quot;:45,&quot;offset&quot;:4740}},{&quot;source&quot;:&quot;/Users/jlaster/src/mozilla/debugger.html/src/actions/pause.js&quot;,&quot;type&quot;:&quot;SourceFile&quot;,&quot;start&quot;:{&quot;line&quot;:218,&quot;column&quot;:39,&quot;offset&quot;:4733},&quot;end&quot;:{&quot;line&quot;:218,&quot;column&quot;:44,&quot;offset&quot;:4739}}]},&quot;filename&quot;:&quot;src/actions/pause.js&quot;,&quot;percent&quot;:85}</pre></body></html>