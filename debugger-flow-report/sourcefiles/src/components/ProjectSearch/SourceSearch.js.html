<!DOCTYPE html>
<html><head><meta charset="utf-8"/><link rel="stylesheet" href="../../../../assets/semantic.min.css"/><link rel="stylesheet" href="../../../../assets/codemirror.css"/><link rel="stylesheet" href="../../../../assets/flow-highlight-source.css"/><link rel="stylesheet" href="../../../../assets/flow-coverage-report.css"/><link rel="stylesheet" href="../../../../assets/codemirror-simplescrollbars-addon.css"/><script src="../../../../assets/jquery-3.1.0.min.js"></script><script src="../../../../assets/semantic.min.js"></script><script src="../../../../assets/semantic-tablesort.js"></script><script src="../../../../assets/codemirror.js"></script><script src="../../../../assets/codemirror-javascript-mode.js"></script><script src="../../../../assets/codemirror-annotatescrollbar-addon.js"></script><script src="../../../../assets/codemirror-simplescrollbars-addon.js"></script><script src="../../../../assets/flow-highlight-source.js"></script></head><body><div class="ui grid container"><div class="row"><h1 class="twelve wide column">Flow Coverage Report - src/components/ProjectSearch/SourceSearch.js</h1><div class="four wide column" style="height:32px;"><a href="../../../../index.html" id="link-to-summary">Go back to all files summary.</a></div></div><div class="row"><table class="ui small celled unstackable table"><thead><tr><th class="sorted ascending">Filename</th><th>Percent</th><th>Total</th><th>Covered</th><th>Uncovered</th></tr></thead><tbody><tr class="negative"><td class="">src/components/ProjectSearch/SourceSearch.js</td><td> 66 %</td><td> 115 </td><td> 76 </td><td> 39 </td></tr></tbody></table></div><div class="row red" style="padding:0;height:12px;"></div><div class="row ui one column centered grid"><div class="column" style="text-align:left;"><div class="row"><div class="ui form"><div class="fields"><div class="sixteen wide inline field"><select class="ui search dropdown uncovered-locations"><option value="">Uncovered Locations</option><option value="33">Start: 33,11 - End: 33,19</option><option value="33">Start: 33,23 - End: 33,34</option><option value="33">Start: 33,23 - End: 33,44</option><option value="34">Start: 34,5 - End: 34,13</option><option value="34">Start: 34,5 - End: 34,42</option><option value="38">Start: 38,11 - End: 38,19</option><option value="38">Start: 38,23 - End: 38,34</option><option value="38">Start: 38,23 - End: 38,44</option><option value="39">Start: 39,5 - End: 39,13</option><option value="39">Start: 39,5 - End: 39,41</option><option value="42">Start: 42,12 - End: 42,19</option><option value="42">Start: 42,22 - End: 42,22</option><option value="43">Start: 43,9 - End: 43,37</option><option value="44">Start: 44,7 - End: 44,7</option><option value="44">Start: 44,7 - End: 44,24</option><option value="45">Start: 45,7 - End: 45,18</option><option value="50">Start: 50,12 - End: 52,13</option><option value="50">Start: 50,12 - End: 53,42</option><option value="50">Start: 50,12 - End: 59,9</option><option value="53">Start: 53,15 - End: 53,20</option><option value="53">Start: 53,35 - End: 53,40</option><option value="54">Start: 54,12 - End: 54,17</option><option value="55">Start: 55,30 - End: 55,35</option><option value="56">Start: 56,30 - End: 56,35</option><option value="57">Start: 57,48 - End: 57,53</option><option value="58">Start: 58,13 - End: 58,18</option><option value="58">Start: 58,13 - End: 58,21</option><option value="64">Start: 64,5 - End: 64,34</option><option value="71">Start: 71,22 - End: 71,22</option><option value="71">Start: 71,25 - End: 71,30</option><option value="72">Start: 72,11 - End: 72,33</option><option value="72">Start: 72,24 - End: 72,29</option><option value="72">Start: 72,24 - End: 72,32</option><option value="73">Start: 73,11 - End: 73,22</option><option value="76">Start: 76,16 - End: 76,42</option><option value="77">Start: 77,21 - End: 77,41</option><option value="78">Start: 78,22 - End: 78,25</option><option value="78">Start: 78,22 - End: 78,55</option><option value="88">Start: 88,14 - End: 88,29</option></select></div><div class="four wide inline field"><select class="ui search dropdown syntax-highlighting"><option value="es">ES6/ES7</option><option value="js">JavaScript</option><option value="no">None</option></select></div></div></div></div><textarea id="file-content" readonly="">import React, { Component, PropTypes } from &quot;react&quot;;

import { isPretty, getSourcePath } from &quot;../../utils/source&quot;;
import { endTruncateStr } from &quot;../../utils/utils&quot;;

import Autocomplete from &quot;../shared/Autocomplete&quot;;

import type { SourcesMap } from &quot;../../reducers/sources&quot;;

export default class SourceSearch extends Component {
  props: {
    closeActiveSearch: () =&gt; any,
    selectSource: string =&gt; any,
    sources: Object,
    searchBottomBar: Object
  };

  onEscape: Function;
  close: Function;
  toggleSourceSearch: Function;

  constructor(props: Props) {
    super(props);

    this.close = this.close.bind(this);

    this.state = {
      inputValue: &quot;&quot;
    };
  }

  componentWillUnmount() {
    const shortcuts = this.context.shortcuts;
    shortcuts.off(&quot;Escape&quot;, this.onEscape);
  }

  componentDidMount() {
    const shortcuts = this.context.shortcuts;
    shortcuts.on(&quot;Escape&quot;, this.onEscape);
  }

  onEscape(shortcut, e) {
    if (this.isProjectSearchEnabled()) {
      e.preventDefault();
      this.close();
    }
  }

  searchResults(sourceMap: SourcesMap) {
    return sourceMap
      .valueSeq()
      .toJS()
      .filter(source =&gt; !isPretty(source))
      .map(source =&gt; ({
        value: getSourcePath(source),
        title: getSourcePath(source).split(&quot;/&quot;).pop(),
        subtitle: endTruncateStr(getSourcePath(source), 100),
        id: source.id
      }));
  }

  close() {
    this.setState({ inputValue: &quot;&quot; });
    this.props.closeActiveSearch();
  }

  render() {
    const { sources, searchBottomBar, selectSource } = this.props;
    return (
      &lt;Autocomplete
        selectItem={(e, result) =&gt; {
          selectSource(result.id);
          this.close();
        }}
        close={this.close}
        items={this.searchResults(sources)}
        inputValue={this.state.inputValue}
        placeholder={L10N.getStr(&quot;sourceSearch.search&quot;)}
        size=&quot;big&quot;
      &gt;
        {searchBottomBar}
      &lt;/Autocomplete&gt;
    );
  }
}

SourceSearch.contextTypes = {
  shortcuts: PropTypes.object
};

SourceSearch.displayName = &quot;SourceSearch&quot;;
</textarea></div></div><div class="row centered"><footer>Flow Coverage Report generated by<a href="https://flowtype.org"> flow </a>and<a href="https://github.com/rpl/flow-coverage-report"> flow-coverage-report </a>at Tue Aug 15 2017 09:36:51 GMT-0400 (EDT)</footer></div></div><pre id="file-coverage-data" style="display:none;">{&quot;expressions&quot;:{&quot;covered_count&quot;:76,&quot;uncovered_count&quot;:39,&quot;uncovered_locs&quot;:[{&quot;source&quot;:&quot;/Users/jlaster/src/mozilla/debugger.html/src/components/ProjectSearch/SourceSearch.js&quot;,&quot;type&quot;:&quot;SourceFile&quot;,&quot;start&quot;:{&quot;line&quot;:33,&quot;column&quot;:11,&quot;offset&quot;:720},&quot;end&quot;:{&quot;line&quot;:33,&quot;column&quot;:19,&quot;offset&quot;:729}},{&quot;source&quot;:&quot;/Users/jlaster/src/mozilla/debugger.html/src/components/ProjectSearch/SourceSearch.js&quot;,&quot;type&quot;:&quot;SourceFile&quot;,&quot;start&quot;:{&quot;line&quot;:33,&quot;column&quot;:23,&quot;offset&quot;:732},&quot;end&quot;:{&quot;line&quot;:33,&quot;column&quot;:34,&quot;offset&quot;:744}},{&quot;source&quot;:&quot;/Users/jlaster/src/mozilla/debugger.html/src/components/ProjectSearch/SourceSearch.js&quot;,&quot;type&quot;:&quot;SourceFile&quot;,&quot;start&quot;:{&quot;line&quot;:33,&quot;column&quot;:23,&quot;offset&quot;:732},&quot;end&quot;:{&quot;line&quot;:33,&quot;column&quot;:44,&quot;offset&quot;:754}},{&quot;source&quot;:&quot;/Users/jlaster/src/mozilla/debugger.html/src/components/ProjectSearch/SourceSearch.js&quot;,&quot;type&quot;:&quot;SourceFile&quot;,&quot;start&quot;:{&quot;line&quot;:34,&quot;column&quot;:5,&quot;offset&quot;:760},&quot;end&quot;:{&quot;line&quot;:34,&quot;column&quot;:13,&quot;offset&quot;:769}},{&quot;source&quot;:&quot;/Users/jlaster/src/mozilla/debugger.html/src/components/ProjectSearch/SourceSearch.js&quot;,&quot;type&quot;:&quot;SourceFile&quot;,&quot;start&quot;:{&quot;line&quot;:34,&quot;column&quot;:5,&quot;offset&quot;:760},&quot;end&quot;:{&quot;line&quot;:34,&quot;column&quot;:42,&quot;offset&quot;:798}},{&quot;source&quot;:&quot;/Users/jlaster/src/mozilla/debugger.html/src/components/ProjectSearch/SourceSearch.js&quot;,&quot;type&quot;:&quot;SourceFile&quot;,&quot;start&quot;:{&quot;line&quot;:38,&quot;column&quot;:11,&quot;offset&quot;:839},&quot;end&quot;:{&quot;line&quot;:38,&quot;column&quot;:19,&quot;offset&quot;:848}},{&quot;source&quot;:&quot;/Users/jlaster/src/mozilla/debugger.html/src/components/ProjectSearch/SourceSearch.js&quot;,&quot;type&quot;:&quot;SourceFile&quot;,&quot;start&quot;:{&quot;line&quot;:38,&quot;column&quot;:23,&quot;offset&quot;:851},&quot;end&quot;:{&quot;line&quot;:38,&quot;column&quot;:34,&quot;offset&quot;:863}},{&quot;source&quot;:&quot;/Users/jlaster/src/mozilla/debugger.html/src/components/ProjectSearch/SourceSearch.js&quot;,&quot;type&quot;:&quot;SourceFile&quot;,&quot;start&quot;:{&quot;line&quot;:38,&quot;column&quot;:23,&quot;offset&quot;:851},&quot;end&quot;:{&quot;line&quot;:38,&quot;column&quot;:44,&quot;offset&quot;:873}},{&quot;source&quot;:&quot;/Users/jlaster/src/mozilla/debugger.html/src/components/ProjectSearch/SourceSearch.js&quot;,&quot;type&quot;:&quot;SourceFile&quot;,&quot;start&quot;:{&quot;line&quot;:39,&quot;column&quot;:5,&quot;offset&quot;:879},&quot;end&quot;:{&quot;line&quot;:39,&quot;column&quot;:13,&quot;offset&quot;:888}},{&quot;source&quot;:&quot;/Users/jlaster/src/mozilla/debugger.html/src/components/ProjectSearch/SourceSearch.js&quot;,&quot;type&quot;:&quot;SourceFile&quot;,&quot;start&quot;:{&quot;line&quot;:39,&quot;column&quot;:5,&quot;offset&quot;:879},&quot;end&quot;:{&quot;line&quot;:39,&quot;column&quot;:41,&quot;offset&quot;:916}},{&quot;source&quot;:&quot;/Users/jlaster/src/mozilla/debugger.html/src/components/ProjectSearch/SourceSearch.js&quot;,&quot;type&quot;:&quot;SourceFile&quot;,&quot;start&quot;:{&quot;line&quot;:42,&quot;column&quot;:12,&quot;offset&quot;:934},&quot;end&quot;:{&quot;line&quot;:42,&quot;column&quot;:19,&quot;offset&quot;:942}},{&quot;source&quot;:&quot;/Users/jlaster/src/mozilla/debugger.html/src/components/ProjectSearch/SourceSearch.js&quot;,&quot;type&quot;:&quot;SourceFile&quot;,&quot;start&quot;:{&quot;line&quot;:42,&quot;column&quot;:22,&quot;offset&quot;:944},&quot;end&quot;:{&quot;line&quot;:42,&quot;column&quot;:22,&quot;offset&quot;:945}},{&quot;source&quot;:&quot;/Users/jlaster/src/mozilla/debugger.html/src/components/ProjectSearch/SourceSearch.js&quot;,&quot;type&quot;:&quot;SourceFile&quot;,&quot;start&quot;:{&quot;line&quot;:43,&quot;column&quot;:9,&quot;offset&quot;:957},&quot;end&quot;:{&quot;line&quot;:43,&quot;column&quot;:37,&quot;offset&quot;:986}},{&quot;source&quot;:&quot;/Users/jlaster/src/mozilla/debugger.html/src/components/ProjectSearch/SourceSearch.js&quot;,&quot;type&quot;:&quot;SourceFile&quot;,&quot;start&quot;:{&quot;line&quot;:44,&quot;column&quot;:7,&quot;offset&quot;:996},&quot;end&quot;:{&quot;line&quot;:44,&quot;column&quot;:7,&quot;offset&quot;:997}},{&quot;source&quot;:&quot;/Users/jlaster/src/mozilla/debugger.html/src/components/ProjectSearch/SourceSearch.js&quot;,&quot;type&quot;:&quot;SourceFile&quot;,&quot;start&quot;:{&quot;line&quot;:44,&quot;column&quot;:7,&quot;offset&quot;:996},&quot;end&quot;:{&quot;line&quot;:44,&quot;column&quot;:24,&quot;offset&quot;:1014}},{&quot;source&quot;:&quot;/Users/jlaster/src/mozilla/debugger.html/src/components/ProjectSearch/SourceSearch.js&quot;,&quot;type&quot;:&quot;SourceFile&quot;,&quot;start&quot;:{&quot;line&quot;:45,&quot;column&quot;:7,&quot;offset&quot;:1022},&quot;end&quot;:{&quot;line&quot;:45,&quot;column&quot;:18,&quot;offset&quot;:1034}},{&quot;source&quot;:&quot;/Users/jlaster/src/mozilla/debugger.html/src/components/ProjectSearch/SourceSearch.js&quot;,&quot;type&quot;:&quot;SourceFile&quot;,&quot;start&quot;:{&quot;line&quot;:50,&quot;column&quot;:12,&quot;offset&quot;:1099},&quot;end&quot;:{&quot;line&quot;:52,&quot;column&quot;:13,&quot;offset&quot;:1140}},{&quot;source&quot;:&quot;/Users/jlaster/src/mozilla/debugger.html/src/components/ProjectSearch/SourceSearch.js&quot;,&quot;type&quot;:&quot;SourceFile&quot;,&quot;start&quot;:{&quot;line&quot;:50,&quot;column&quot;:12,&quot;offset&quot;:1099},&quot;end&quot;:{&quot;line&quot;:53,&quot;column&quot;:42,&quot;offset&quot;:1183}},{&quot;source&quot;:&quot;/Users/jlaster/src/mozilla/debugger.html/src/components/ProjectSearch/SourceSearch.js&quot;,&quot;type&quot;:&quot;SourceFile&quot;,&quot;start&quot;:{&quot;line&quot;:50,&quot;column&quot;:12,&quot;offset&quot;:1099},&quot;end&quot;:{&quot;line&quot;:59,&quot;column&quot;:9,&quot;offset&quot;:1394}},{&quot;source&quot;:&quot;/Users/jlaster/src/mozilla/debugger.html/src/components/ProjectSearch/SourceSearch.js&quot;,&quot;type&quot;:&quot;SourceFile&quot;,&quot;start&quot;:{&quot;line&quot;:53,&quot;column&quot;:15,&quot;offset&quot;:1155},&quot;end&quot;:{&quot;line&quot;:53,&quot;column&quot;:20,&quot;offset&quot;:1161}},{&quot;source&quot;:&quot;/Users/jlaster/src/mozilla/debugger.html/src/components/ProjectSearch/SourceSearch.js&quot;,&quot;type&quot;:&quot;SourceFile&quot;,&quot;start&quot;:{&quot;line&quot;:53,&quot;column&quot;:35,&quot;offset&quot;:1175},&quot;end&quot;:{&quot;line&quot;:53,&quot;column&quot;:40,&quot;offset&quot;:1181}},{&quot;source&quot;:&quot;/Users/jlaster/src/mozilla/debugger.html/src/components/ProjectSearch/SourceSearch.js&quot;,&quot;type&quot;:&quot;SourceFile&quot;,&quot;start&quot;:{&quot;line&quot;:54,&quot;column&quot;:12,&quot;offset&quot;:1195},&quot;end&quot;:{&quot;line&quot;:54,&quot;column&quot;:17,&quot;offset&quot;:1201}},{&quot;source&quot;:&quot;/Users/jlaster/src/mozilla/debugger.html/src/components/ProjectSearch/SourceSearch.js&quot;,&quot;type&quot;:&quot;SourceFile&quot;,&quot;start&quot;:{&quot;line&quot;:55,&quot;column&quot;:30,&quot;offset&quot;:1237},&quot;end&quot;:{&quot;line&quot;:55,&quot;column&quot;:35,&quot;offset&quot;:1243}},{&quot;source&quot;:&quot;/Users/jlaster/src/mozilla/debugger.html/src/components/ProjectSearch/SourceSearch.js&quot;,&quot;type&quot;:&quot;SourceFile&quot;,&quot;start&quot;:{&quot;line&quot;:56,&quot;column&quot;:30,&quot;offset&quot;:1275},&quot;end&quot;:{&quot;line&quot;:56,&quot;column&quot;:35,&quot;offset&quot;:1281}},{&quot;source&quot;:&quot;/Users/jlaster/src/mozilla/debugger.html/src/components/ProjectSearch/SourceSearch.js&quot;,&quot;type&quot;:&quot;SourceFile&quot;,&quot;start&quot;:{&quot;line&quot;:57,&quot;column&quot;:48,&quot;offset&quot;:1348},&quot;end&quot;:{&quot;line&quot;:57,&quot;column&quot;:53,&quot;offset&quot;:1354}},{&quot;source&quot;:&quot;/Users/jlaster/src/mozilla/debugger.html/src/components/ProjectSearch/SourceSearch.js&quot;,&quot;type&quot;:&quot;SourceFile&quot;,&quot;start&quot;:{&quot;line&quot;:58,&quot;column&quot;:13,&quot;offset&quot;:1375},&quot;end&quot;:{&quot;line&quot;:58,&quot;column&quot;:18,&quot;offset&quot;:1381}},{&quot;source&quot;:&quot;/Users/jlaster/src/mozilla/debugger.html/src/components/ProjectSearch/SourceSearch.js&quot;,&quot;type&quot;:&quot;SourceFile&quot;,&quot;start&quot;:{&quot;line&quot;:58,&quot;column&quot;:13,&quot;offset&quot;:1375},&quot;end&quot;:{&quot;line&quot;:58,&quot;column&quot;:21,&quot;offset&quot;:1384}},{&quot;source&quot;:&quot;/Users/jlaster/src/mozilla/debugger.html/src/components/ProjectSearch/SourceSearch.js&quot;,&quot;type&quot;:&quot;SourceFile&quot;,&quot;start&quot;:{&quot;line&quot;:64,&quot;column&quot;:5,&quot;offset&quot;:1456},&quot;end&quot;:{&quot;line&quot;:64,&quot;column&quot;:34,&quot;offset&quot;:1486}},{&quot;source&quot;:&quot;/Users/jlaster/src/mozilla/debugger.html/src/components/ProjectSearch/SourceSearch.js&quot;,&quot;type&quot;:&quot;SourceFile&quot;,&quot;start&quot;:{&quot;line&quot;:71,&quot;column&quot;:22,&quot;offset&quot;:1627},&quot;end&quot;:{&quot;line&quot;:71,&quot;column&quot;:22,&quot;offset&quot;:1628}},{&quot;source&quot;:&quot;/Users/jlaster/src/mozilla/debugger.html/src/components/ProjectSearch/SourceSearch.js&quot;,&quot;type&quot;:&quot;SourceFile&quot;,&quot;start&quot;:{&quot;line&quot;:71,&quot;column&quot;:25,&quot;offset&quot;:1630},&quot;end&quot;:{&quot;line&quot;:71,&quot;column&quot;:30,&quot;offset&quot;:1636}},{&quot;source&quot;:&quot;/Users/jlaster/src/mozilla/debugger.html/src/components/ProjectSearch/SourceSearch.js&quot;,&quot;type&quot;:&quot;SourceFile&quot;,&quot;start&quot;:{&quot;line&quot;:72,&quot;column&quot;:11,&quot;offset&quot;:1653},&quot;end&quot;:{&quot;line&quot;:72,&quot;column&quot;:33,&quot;offset&quot;:1676}},{&quot;source&quot;:&quot;/Users/jlaster/src/mozilla/debugger.html/src/components/ProjectSearch/SourceSearch.js&quot;,&quot;type&quot;:&quot;SourceFile&quot;,&quot;start&quot;:{&quot;line&quot;:72,&quot;column&quot;:24,&quot;offset&quot;:1666},&quot;end&quot;:{&quot;line&quot;:72,&quot;column&quot;:29,&quot;offset&quot;:1672}},{&quot;source&quot;:&quot;/Users/jlaster/src/mozilla/debugger.html/src/components/ProjectSearch/SourceSearch.js&quot;,&quot;type&quot;:&quot;SourceFile&quot;,&quot;start&quot;:{&quot;line&quot;:72,&quot;column&quot;:24,&quot;offset&quot;:1666},&quot;end&quot;:{&quot;line&quot;:72,&quot;column&quot;:32,&quot;offset&quot;:1675}},{&quot;source&quot;:&quot;/Users/jlaster/src/mozilla/debugger.html/src/components/ProjectSearch/SourceSearch.js&quot;,&quot;type&quot;:&quot;SourceFile&quot;,&quot;start&quot;:{&quot;line&quot;:73,&quot;column&quot;:11,&quot;offset&quot;:1688},&quot;end&quot;:{&quot;line&quot;:73,&quot;column&quot;:22,&quot;offset&quot;:1700}},{&quot;source&quot;:&quot;/Users/jlaster/src/mozilla/debugger.html/src/components/ProjectSearch/SourceSearch.js&quot;,&quot;type&quot;:&quot;SourceFile&quot;,&quot;start&quot;:{&quot;line&quot;:76,&quot;column&quot;:16,&quot;offset&quot;:1755},&quot;end&quot;:{&quot;line&quot;:76,&quot;column&quot;:42,&quot;offset&quot;:1782}},{&quot;source&quot;:&quot;/Users/jlaster/src/mozilla/debugger.html/src/components/ProjectSearch/SourceSearch.js&quot;,&quot;type&quot;:&quot;SourceFile&quot;,&quot;start&quot;:{&quot;line&quot;:77,&quot;column&quot;:21,&quot;offset&quot;:1804},&quot;end&quot;:{&quot;line&quot;:77,&quot;column&quot;:41,&quot;offset&quot;:1825}},{&quot;source&quot;:&quot;/Users/jlaster/src/mozilla/debugger.html/src/components/ProjectSearch/SourceSearch.js&quot;,&quot;type&quot;:&quot;SourceFile&quot;,&quot;start&quot;:{&quot;line&quot;:78,&quot;column&quot;:22,&quot;offset&quot;:1848},&quot;end&quot;:{&quot;line&quot;:78,&quot;column&quot;:25,&quot;offset&quot;:1852}},{&quot;source&quot;:&quot;/Users/jlaster/src/mozilla/debugger.html/src/components/ProjectSearch/SourceSearch.js&quot;,&quot;type&quot;:&quot;SourceFile&quot;,&quot;start&quot;:{&quot;line&quot;:78,&quot;column&quot;:22,&quot;offset&quot;:1848},&quot;end&quot;:{&quot;line&quot;:78,&quot;column&quot;:55,&quot;offset&quot;:1882}},{&quot;source&quot;:&quot;/Users/jlaster/src/mozilla/debugger.html/src/components/ProjectSearch/SourceSearch.js&quot;,&quot;type&quot;:&quot;SourceFile&quot;,&quot;start&quot;:{&quot;line&quot;:88,&quot;column&quot;:14,&quot;offset&quot;:2016},&quot;end&quot;:{&quot;line&quot;:88,&quot;column&quot;:29,&quot;offset&quot;:2032}}]},&quot;percent&quot;:66}</pre></body></html>