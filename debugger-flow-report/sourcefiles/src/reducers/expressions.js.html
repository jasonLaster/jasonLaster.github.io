<!DOCTYPE html>
<html><head><meta charset="utf-8"/><link rel="stylesheet" href="../../../assets/semantic.min.css"/><link rel="stylesheet" href="../../../assets/codemirror.css"/><link rel="stylesheet" href="../../../assets/flow-highlight-source.css"/><link rel="stylesheet" href="../../../assets/flow-coverage-report.css"/><link rel="stylesheet" href="../../../assets/codemirror-simplescrollbars-addon.css"/><script src="../../../assets/jquery-3.1.0.min.js"></script><script src="../../../assets/semantic.min.js"></script><script src="../../../assets/semantic-tablesort.js"></script><script src="../../../assets/codemirror.js"></script><script src="../../../assets/codemirror-javascript-mode.js"></script><script src="../../../assets/codemirror-annotatescrollbar-addon.js"></script><script src="../../../assets/codemirror-simplescrollbars-addon.js"></script><script src="../../../assets/flow-highlight-source.js"></script><script src="../../../assets/index.js"></script><style>
.ui .CodeMirror {
  border: 1px solid rgba(34,36,38,.15);
  height: auto;
}
</style></head><body><div class="ui grid container"><div class="row"><div class="twelve wide column"><h2 class="ui header"><a href="../../../index.html" id="link-to-summary">Flow Coverage Report</a></h2></div></div><div class="row"><table class="ui small celled unstackable table"><thead><tr><th class="sorted ascending">Filename</th><th>Percent</th><th>Total</th><th>Covered</th><th>Uncovered</th></tr></thead><tbody><tr class="negative"><td class="">src/reducers/expressions.js</td><td><span>78 %</span></td><td> 146 </td><td> 114 </td><td> 32 </td></tr></tbody></table></div><div class="row ui one column centered grid"><div class="column" style="text-align:left;"><div class="row"><div class="ui form"><div class="fields"><div class="sixteen wide inline field"><select class="ui search dropdown uncovered-locations"><option value="">Uncovered Locations</option><option value="23">Start: 23,14 - End: 27,8</option><option value="30">Start: 30,14 - End: 34,8</option><option value="37">Start: 37,16 - End: 41,10</option><option value="45">Start: 45,14 - End: 45,50</option><option value="51">Start: 51,53 - End: 51,62</option><option value="52">Start: 52,10 - End: 54,4</option><option value="53">Start: 53,12 - End: 53,28</option><option value="53">Start: 53,12 - End: 53,40</option><option value="53">Start: 53,35 - End: 53,39</option><option value="58">Start: 58,46 - End: 58,55</option><option value="59">Start: 59,10 - End: 63,4</option><option value="60">Start: 60,11 - End: 60,14</option><option value="60">Start: 60,18 - End: 60,34</option><option value="61">Start: 61,11 - End: 61,15</option><option value="61">Start: 61,19 - End: 61,22</option><option value="61">Start: 61,19 - End: 61,53</option><option value="61">Start: 61,34 - End: 61,34</option><option value="61">Start: 61,39 - End: 61,39</option><option value="61">Start: 61,39 - End: 61,45</option><option value="62">Start: 62,12 - End: 62,15</option><option value="62">Start: 62,12 - End: 62,42</option><option value="62">Start: 62,24 - End: 62,28</option><option value="62">Start: 62,37 - End: 62,41</option><option value="67">Start: 67,9 - End: 67,13</option><option value="67">Start: 67,17 - End: 67,54</option><option value="67">Start: 67,17 - End: 68,35</option><option value="68">Start: 68,14 - End: 68,14</option><option value="68">Start: 68,19 - End: 68,19</option><option value="68">Start: 68,19 - End: 68,25</option><option value="69">Start: 69,10 - End: 69,47</option><option value="69">Start: 69,41 - End: 69,45</option><option value="75">Start: 75,10 - End: 75,45</option></select></div><div class="four wide inline field"><select class="ui search dropdown syntax-highlighting"><option value="es">ES6/ES7</option><option value="js">JavaScript</option><option value="no">None</option></select></div></div></div></div><textarea id="file-content" readonly="">// @flow

const constants = require(&quot;../constants&quot;);
const makeRecord = require(&quot;../utils/makeRecord&quot;);
const I = require(&quot;immutable&quot;);

import type { Expression } from &quot;../types&quot;;
import type { Action } from &quot;../actions/types&quot;;
import type { Record } from &quot;../utils/makeRecord&quot;;

type ExpressionState = {
  expressions: I.List&lt;Expression&gt;
}

const State = makeRecord(({
  expressions: I.List()
} : ExpressionState));

function update(state = State(), action: Action): Record&lt;ExpressionState&gt; {
  switch (action.type) {

    case constants.ADD_EXPRESSION:
      return appendToList(state, [&quot;expressions&quot;], {
        input: action.input,
        value: null,
        updating: true
      });
    case constants.UPDATE_EXPRESSION:
      const key = action.expression.input;
      return updateItemInList(state, [&quot;expressions&quot;], key, {
        input: action.input,
        value: null,
        updating: true
      });
    case constants.EVALUATE_EXPRESSION:
      if (action.status === &quot;done&quot;) {
        return updateItemInList(state, [&quot;expressions&quot;], action.input, {
          input: action.input,
          value: action.value,
          updating: false
        });
      }
      break;
    case constants.DELETE_EXPRESSION:
      return deleteExpression(state, action.input);
  }

  return state;
}

function appendToList(state: State, path: string[], value: any) {
  return state.updateIn(path, () =&gt; {
    return state.getIn(path).push(value);
  });
}

function updateItemInList(
  state: State, path: string[], key: string, value: any) {
  return state.updateIn(path, () =&gt; {
    const list = state.getIn(path);
    const index = list.findIndex(e =&gt; e.input == key);
    return list.update(index, () =&gt; value);
  });
}

function deleteExpression(state: State, input: string) {
  const index = getExpressions({ expressions: state })
    .findKey(e =&gt; e.input == input);
  return state.deleteIn([&quot;expressions&quot;, index]);
}

type OuterState = { expressions: Record&lt;ExpressionState&gt; };

function getExpressions(state: OuterState) {
  return state.expressions.get(&quot;expressions&quot;);
}

module.exports = {
  State,
  update,
  getExpressions
};
</textarea></div></div><div class="row centered"><footer>Flow Coverage Report generated by<a href="https://flowtype.org"> flow </a>and<a href="https://github.com/rpl/flow-coverage-report"> flow-coverage-report </a>at Tue Feb 21 2017 17:31:46 GMT-0500 (EST)</footer></div></div><pre id="file-coverage-data" style="display:none;">{&quot;expressions&quot;:{&quot;covered_count&quot;:114,&quot;uncovered_count&quot;:32,&quot;uncovered_locs&quot;:[{&quot;source&quot;:&quot;/Users/jlaster/src/mozilla/debugger.html/src/reducers/expressions.js&quot;,&quot;type&quot;:&quot;SourceFile&quot;,&quot;start&quot;:{&quot;line&quot;:23,&quot;column&quot;:14,&quot;offset&quot;:569},&quot;end&quot;:{&quot;line&quot;:27,&quot;column&quot;:8,&quot;offset&quot;:689}},{&quot;source&quot;:&quot;/Users/jlaster/src/mozilla/debugger.html/src/reducers/expressions.js&quot;,&quot;type&quot;:&quot;SourceFile&quot;,&quot;start&quot;:{&quot;line&quot;:30,&quot;column&quot;:14,&quot;offset&quot;:785},&quot;end&quot;:{&quot;line&quot;:34,&quot;column&quot;:8,&quot;offset&quot;:914}},{&quot;source&quot;:&quot;/Users/jlaster/src/mozilla/debugger.html/src/reducers/expressions.js&quot;,&quot;type&quot;:&quot;SourceFile&quot;,&quot;start&quot;:{&quot;line&quot;:37,&quot;column&quot;:16,&quot;offset&quot;:1009},&quot;end&quot;:{&quot;line&quot;:41,&quot;column&quot;:10,&quot;offset&quot;:1164}},{&quot;source&quot;:&quot;/Users/jlaster/src/mozilla/debugger.html/src/reducers/expressions.js&quot;,&quot;type&quot;:&quot;SourceFile&quot;,&quot;start&quot;:{&quot;line&quot;:45,&quot;column&quot;:14,&quot;offset&quot;:1238},&quot;end&quot;:{&quot;line&quot;:45,&quot;column&quot;:50,&quot;offset&quot;:1275}},{&quot;source&quot;:&quot;/Users/jlaster/src/mozilla/debugger.html/src/reducers/expressions.js&quot;,&quot;type&quot;:&quot;SourceFile&quot;,&quot;start&quot;:{&quot;line&quot;:51,&quot;column&quot;:53,&quot;offset&quot;:1353},&quot;end&quot;:{&quot;line&quot;:51,&quot;column&quot;:62,&quot;offset&quot;:1363}},{&quot;source&quot;:&quot;/Users/jlaster/src/mozilla/debugger.html/src/reducers/expressions.js&quot;,&quot;type&quot;:&quot;SourceFile&quot;,&quot;start&quot;:{&quot;line&quot;:52,&quot;column&quot;:10,&quot;offset&quot;:1376},&quot;end&quot;:{&quot;line&quot;:54,&quot;column&quot;:4,&quot;offset&quot;:1451}},{&quot;source&quot;:&quot;/Users/jlaster/src/mozilla/debugger.html/src/reducers/expressions.js&quot;,&quot;type&quot;:&quot;SourceFile&quot;,&quot;start&quot;:{&quot;line&quot;:53,&quot;column&quot;:12,&quot;offset&quot;:1416},&quot;end&quot;:{&quot;line&quot;:53,&quot;column&quot;:28,&quot;offset&quot;:1433}},{&quot;source&quot;:&quot;/Users/jlaster/src/mozilla/debugger.html/src/reducers/expressions.js&quot;,&quot;type&quot;:&quot;SourceFile&quot;,&quot;start&quot;:{&quot;line&quot;:53,&quot;column&quot;:12,&quot;offset&quot;:1416},&quot;end&quot;:{&quot;line&quot;:53,&quot;column&quot;:40,&quot;offset&quot;:1445}},{&quot;source&quot;:&quot;/Users/jlaster/src/mozilla/debugger.html/src/reducers/expressions.js&quot;,&quot;type&quot;:&quot;SourceFile&quot;,&quot;start&quot;:{&quot;line&quot;:53,&quot;column&quot;:35,&quot;offset&quot;:1439},&quot;end&quot;:{&quot;line&quot;:53,&quot;column&quot;:39,&quot;offset&quot;:1444}},{&quot;source&quot;:&quot;/Users/jlaster/src/mozilla/debugger.html/src/reducers/expressions.js&quot;,&quot;type&quot;:&quot;SourceFile&quot;,&quot;start&quot;:{&quot;line&quot;:58,&quot;column&quot;:46,&quot;offset&quot;:1528},&quot;end&quot;:{&quot;line&quot;:58,&quot;column&quot;:55,&quot;offset&quot;:1538}},{&quot;source&quot;:&quot;/Users/jlaster/src/mozilla/debugger.html/src/reducers/expressions.js&quot;,&quot;type&quot;:&quot;SourceFile&quot;,&quot;start&quot;:{&quot;line&quot;:59,&quot;column&quot;:10,&quot;offset&quot;:1551},&quot;end&quot;:{&quot;line&quot;:63,&quot;column&quot;:4,&quot;offset&quot;:1719}},{&quot;source&quot;:&quot;/Users/jlaster/src/mozilla/debugger.html/src/reducers/expressions.js&quot;,&quot;type&quot;:&quot;SourceFile&quot;,&quot;start&quot;:{&quot;line&quot;:60,&quot;column&quot;:11,&quot;offset&quot;:1590},&quot;end&quot;:{&quot;line&quot;:60,&quot;column&quot;:14,&quot;offset&quot;:1594}},{&quot;source&quot;:&quot;/Users/jlaster/src/mozilla/debugger.html/src/reducers/expressions.js&quot;,&quot;type&quot;:&quot;SourceFile&quot;,&quot;start&quot;:{&quot;line&quot;:60,&quot;column&quot;:18,&quot;offset&quot;:1597},&quot;end&quot;:{&quot;line&quot;:60,&quot;column&quot;:34,&quot;offset&quot;:1614}},{&quot;source&quot;:&quot;/Users/jlaster/src/mozilla/debugger.html/src/reducers/expressions.js&quot;,&quot;type&quot;:&quot;SourceFile&quot;,&quot;start&quot;:{&quot;line&quot;:61,&quot;column&quot;:11,&quot;offset&quot;:1626},&quot;end&quot;:{&quot;line&quot;:61,&quot;column&quot;:15,&quot;offset&quot;:1631}},{&quot;source&quot;:&quot;/Users/jlaster/src/mozilla/debugger.html/src/reducers/expressions.js&quot;,&quot;type&quot;:&quot;SourceFile&quot;,&quot;start&quot;:{&quot;line&quot;:61,&quot;column&quot;:19,&quot;offset&quot;:1634},&quot;end&quot;:{&quot;line&quot;:61,&quot;column&quot;:22,&quot;offset&quot;:1638}},{&quot;source&quot;:&quot;/Users/jlaster/src/mozilla/debugger.html/src/reducers/expressions.js&quot;,&quot;type&quot;:&quot;SourceFile&quot;,&quot;start&quot;:{&quot;line&quot;:61,&quot;column&quot;:19,&quot;offset&quot;:1634},&quot;end&quot;:{&quot;line&quot;:61,&quot;column&quot;:53,&quot;offset&quot;:1669}},{&quot;source&quot;:&quot;/Users/jlaster/src/mozilla/debugger.html/src/reducers/expressions.js&quot;,&quot;type&quot;:&quot;SourceFile&quot;,&quot;start&quot;:{&quot;line&quot;:61,&quot;column&quot;:34,&quot;offset&quot;:1649},&quot;end&quot;:{&quot;line&quot;:61,&quot;column&quot;:34,&quot;offset&quot;:1650}},{&quot;source&quot;:&quot;/Users/jlaster/src/mozilla/debugger.html/src/reducers/expressions.js&quot;,&quot;type&quot;:&quot;SourceFile&quot;,&quot;start&quot;:{&quot;line&quot;:61,&quot;column&quot;:39,&quot;offset&quot;:1654},&quot;end&quot;:{&quot;line&quot;:61,&quot;column&quot;:39,&quot;offset&quot;:1655}},{&quot;source&quot;:&quot;/Users/jlaster/src/mozilla/debugger.html/src/reducers/expressions.js&quot;,&quot;type&quot;:&quot;SourceFile&quot;,&quot;start&quot;:{&quot;line&quot;:61,&quot;column&quot;:39,&quot;offset&quot;:1654},&quot;end&quot;:{&quot;line&quot;:61,&quot;column&quot;:45,&quot;offset&quot;:1661}},{&quot;source&quot;:&quot;/Users/jlaster/src/mozilla/debugger.html/src/reducers/expressions.js&quot;,&quot;type&quot;:&quot;SourceFile&quot;,&quot;start&quot;:{&quot;line&quot;:62,&quot;column&quot;:12,&quot;offset&quot;:1682},&quot;end&quot;:{&quot;line&quot;:62,&quot;column&quot;:15,&quot;offset&quot;:1686}},{&quot;source&quot;:&quot;/Users/jlaster/src/mozilla/debugger.html/src/reducers/expressions.js&quot;,&quot;type&quot;:&quot;SourceFile&quot;,&quot;start&quot;:{&quot;line&quot;:62,&quot;column&quot;:12,&quot;offset&quot;:1682},&quot;end&quot;:{&quot;line&quot;:62,&quot;column&quot;:42,&quot;offset&quot;:1713}},{&quot;source&quot;:&quot;/Users/jlaster/src/mozilla/debugger.html/src/reducers/expressions.js&quot;,&quot;type&quot;:&quot;SourceFile&quot;,&quot;start&quot;:{&quot;line&quot;:62,&quot;column&quot;:24,&quot;offset&quot;:1694},&quot;end&quot;:{&quot;line&quot;:62,&quot;column&quot;:28,&quot;offset&quot;:1699}},{&quot;source&quot;:&quot;/Users/jlaster/src/mozilla/debugger.html/src/reducers/expressions.js&quot;,&quot;type&quot;:&quot;SourceFile&quot;,&quot;start&quot;:{&quot;line&quot;:62,&quot;column&quot;:37,&quot;offset&quot;:1707},&quot;end&quot;:{&quot;line&quot;:62,&quot;column&quot;:41,&quot;offset&quot;:1712}},{&quot;source&quot;:&quot;/Users/jlaster/src/mozilla/debugger.html/src/reducers/expressions.js&quot;,&quot;type&quot;:&quot;SourceFile&quot;,&quot;start&quot;:{&quot;line&quot;:67,&quot;column&quot;:9,&quot;offset&quot;:1789},&quot;end&quot;:{&quot;line&quot;:67,&quot;column&quot;:13,&quot;offset&quot;:1794}},{&quot;source&quot;:&quot;/Users/jlaster/src/mozilla/debugger.html/src/reducers/expressions.js&quot;,&quot;type&quot;:&quot;SourceFile&quot;,&quot;start&quot;:{&quot;line&quot;:67,&quot;column&quot;:17,&quot;offset&quot;:1797},&quot;end&quot;:{&quot;line&quot;:67,&quot;column&quot;:54,&quot;offset&quot;:1835}},{&quot;source&quot;:&quot;/Users/jlaster/src/mozilla/debugger.html/src/reducers/expressions.js&quot;,&quot;type&quot;:&quot;SourceFile&quot;,&quot;start&quot;:{&quot;line&quot;:67,&quot;column&quot;:17,&quot;offset&quot;:1797},&quot;end&quot;:{&quot;line&quot;:68,&quot;column&quot;:35,&quot;offset&quot;:1871}},{&quot;source&quot;:&quot;/Users/jlaster/src/mozilla/debugger.html/src/reducers/expressions.js&quot;,&quot;type&quot;:&quot;SourceFile&quot;,&quot;start&quot;:{&quot;line&quot;:68,&quot;column&quot;:14,&quot;offset&quot;:1849},&quot;end&quot;:{&quot;line&quot;:68,&quot;column&quot;:14,&quot;offset&quot;:1850}},{&quot;source&quot;:&quot;/Users/jlaster/src/mozilla/debugger.html/src/reducers/expressions.js&quot;,&quot;type&quot;:&quot;SourceFile&quot;,&quot;start&quot;:{&quot;line&quot;:68,&quot;column&quot;:19,&quot;offset&quot;:1854},&quot;end&quot;:{&quot;line&quot;:68,&quot;column&quot;:19,&quot;offset&quot;:1855}},{&quot;source&quot;:&quot;/Users/jlaster/src/mozilla/debugger.html/src/reducers/expressions.js&quot;,&quot;type&quot;:&quot;SourceFile&quot;,&quot;start&quot;:{&quot;line&quot;:68,&quot;column&quot;:19,&quot;offset&quot;:1854},&quot;end&quot;:{&quot;line&quot;:68,&quot;column&quot;:25,&quot;offset&quot;:1861}},{&quot;source&quot;:&quot;/Users/jlaster/src/mozilla/debugger.html/src/reducers/expressions.js&quot;,&quot;type&quot;:&quot;SourceFile&quot;,&quot;start&quot;:{&quot;line&quot;:69,&quot;column&quot;:10,&quot;offset&quot;:1882},&quot;end&quot;:{&quot;line&quot;:69,&quot;column&quot;:47,&quot;offset&quot;:1920}},{&quot;source&quot;:&quot;/Users/jlaster/src/mozilla/debugger.html/src/reducers/expressions.js&quot;,&quot;type&quot;:&quot;SourceFile&quot;,&quot;start&quot;:{&quot;line&quot;:69,&quot;column&quot;:41,&quot;offset&quot;:1913},&quot;end&quot;:{&quot;line&quot;:69,&quot;column&quot;:45,&quot;offset&quot;:1918}},{&quot;source&quot;:&quot;/Users/jlaster/src/mozilla/debugger.html/src/reducers/expressions.js&quot;,&quot;type&quot;:&quot;SourceFile&quot;,&quot;start&quot;:{&quot;line&quot;:75,&quot;column&quot;:10,&quot;offset&quot;:2040},&quot;end&quot;:{&quot;line&quot;:75,&quot;column&quot;:45,&quot;offset&quot;:2076}}]},&quot;filename&quot;:&quot;src/reducers/expressions.js&quot;,&quot;percent&quot;:78}</pre></body></html>